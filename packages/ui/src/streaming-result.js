import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { View, Text, ScrollView } from 'react-native';
import { cn } from '@onecoach/lib-design-system';
import { GlassCard } from './glass-card';
import { ActivityIndicator } from 'react-native';
export function StreamingResult({ isStreaming, progress, currentMessage, events, className, }) {
    if (!isStreaming && events.length === 0)
        return null;
    return (_jsxs(View, { className: cn('space-y-4', className), children: [_jsxs(GlassCard, { className: "p-4", children: [_jsxs(View, { className: "mb-2 flex-row items-center justify-between", children: [_jsxs(View, { className: "flex-row items-center gap-2", children: [isStreaming && _jsx(ActivityIndicator, { size: "small", color: "#10B981" }), _jsx(Text, { className: "text-sm font-medium text-neutral-700 dark:text-neutral-300", children: currentMessage || 'Inizializzazione...' })] }), _jsxs(Text, { className: "text-sm font-bold text-green-600 dark:text-green-400", children: [Math.round(progress), "%"] })] }), _jsx(View, { className: "h-2 w-full overflow-hidden rounded-full bg-neutral-100 dark:bg-neutral-800", children: _jsx(View, { className: "h-full rounded-full bg-green-500 transition-all duration-300", style: { width: `${progress}%` } }) })] }), _jsxs(GlassCard, { className: "max-h-60 overflow-hidden p-0", children: [_jsx(View, { className: "border-b border-neutral-100 bg-neutral-50/50 px-4 py-3 dark:border-neutral-800 dark:bg-neutral-800/30", children: _jsx(Text, { className: "font-semibold text-neutral-900 dark:text-neutral-100", children: "Log Generazione" }) }), _jsx(ScrollView, { className: "p-4", nestedScrollEnabled: true, children: events.length === 0 ? (_jsx(Text, { className: "text-sm text-neutral-500 dark:text-neutral-400", children: "In attesa di aggiornamenti..." })) : (_jsx(View, { className: "space-y-3", children: events.map((event, index) => (_jsxs(View, { className: "flex-row gap-3", children: [_jsx(View, { className: cn('mt-1.5 h-2 w-2 rounded-full', event.type === 'info' && 'bg-blue-400', event.type === 'success' && 'bg-green-400', event.type === 'warning' && 'bg-yellow-400', event.type === 'error' && 'bg-red-400') }), _jsxs(View, { className: "flex-1", children: [_jsx(Text, { className: "text-sm text-neutral-700 dark:text-neutral-300", children: event.message }), _jsx(Text, { className: "text-xs text-neutral-400 dark:text-neutral-500", children: event.timestamp.toLocaleTimeString() })] })] }, index))) })) })] })] }));
}
